// *****************************************************************************
// Imports
// *****************************************************************************

import { LoadHelper } from './helpers';

// *****************************************************************************
// Class
// *****************************************************************************

export class Settings {

  // ***************************************************************************
  // Public properties
  // ***************************************************************************
  
  public packageSettings: any;
  public port           : number;
  public isProduction   : boolean = false;

  // ***************************************************************************
  // Private properties
  // ***************************************************************************

  private static _instance: Settings;

  // ***************************************************************************
  // Public methods
  // ***************************************************************************

  public static getInstance(): Settings {
    if (!Settings._instance) {
      Settings._instance = new Settings();
    }
    return Settings._instance;
  }

  // ***************************************************************************
  // Private methods
  // ***************************************************************************

  private constructor() {
    this.packageSettings = LoadHelper.load('../package.json');
    this.isProduction    = process.env.NODE_ENV === 'production';
    this.port            = this.isProduction ?
        this.packageSettings.port : this.packageSettings.devPort;
  }

  // ***************************************************************************
}

// *****************************************************************************
